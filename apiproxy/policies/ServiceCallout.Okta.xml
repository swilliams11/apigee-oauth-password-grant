<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ServiceCallout continueOnError="true" name="ServiceCallout.Okta">
    <Request clearPayload="true">
        <Set>
            <Headers>
                <Header name="Accept">application/json</Header>
            </Headers>
            <Verb>POST</Verb>
            <FormParams>
                <FormParam name="username">{flow.request.username}</FormParam>
                <FormParam name="password">{flow.request.password}</FormParam>
            </FormParams>
        </Set>
        <IgnoreUnresolvedVariables>false</IgnoreUnresolvedVariables>
    </Request>
    <Response>oktaResponse</Response>
    <!--HTTPTargetConnection>
        <URL>https://${apigee.orga}-test.apigee.net/mock/login</URL>
        <SSLInfo>
            <Enabled>true</Enabled>
        </SSLInfo>
    </HTTPTargetConnection-->
    <LocalTargetConnection>
        <APIProxy>mock-api-myds</APIProxy>
        <ProxyEndpoint>default</ProxyEndpoint>
        <Path>/mock-myds/login</Path>
    </LocalTargetConnection>
</ServiceCallout>